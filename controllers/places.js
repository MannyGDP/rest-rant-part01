const placesRouter = require('express').Router();
const places = require('../models/places');

placesRouter.get('/', (req, res) => {
    res.render('places/Index', { places })
});

placesRouter.get('/new', (req, res) => {
  res.render('places/New');
});

placesRouter.get('/:id', (req, res) => {
  let id = Number(req.params.id);
  if (isNaN(id)) {
    res.render('Error404');
  } else if (!places[id]) {
    res.render('Error404');
  }
  else {
    res.render('places/Show', { place: places[id], id });
  }
});

placesRouter.get('/:id/edit', (req, res) => {
  let id = Number(req.params.id);
  if (isNaN(id)) {
    res.render('Error404');
  } else if (!places[id]) {
    res.render('Error404');
  } else {
    res.render('places/Edit', { place: places[id], id });
  }
});

placesRouter.put('/:id', (req, res) => {
  let id = Number(req.params.id);
  if (isNaN(id)) {
    res.render('Error404');
  } else if (!places[id]) {
    res.render('Error404');
  } else {
    if (!req.body.pic) {
      req.body.pic = "/images/flag_photo.jpg";
    };
    if (!req.body.city) {
      req.body.city = 'Anytown';
    };
    if (!req.body.state) {
      req.body.state = 'USA';
    };
    // save new data into places [id]
    places[id] = req.body;
    res.redirect(`/places/${id}`);
  }
});

placesRouter.delete('/:id', (req, res) => {
  let id = Number(req.params.id);
  if (isNaN(id)) {
    res.render('Error404');
  } else if (!places[id]) {
    res.render('Error404');
  } else {
    places.splice(id, 1);
    res.redirect('places');
  }
});

placesRouter.post('/', (req, res) => {
  console.log(req.body);
  if (!req.body.pic) {
    // default image if one isn't provided
    req.body.pic = 'data:image/jpeg;base64,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';
  }
  if (!req.body.city) {
    req.body.city = 'Anytown';
  }
  if (!req.body.state) {
    req.body.state = 'USA';
  }
  places.push(req.body);
  res.redirect('/places');
});

module.exports = placesRouter;
